parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function e(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=n(e))){var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,l,c=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,l=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw l}}}}function n(e,n){if(e){if("string"==typeof e)return r(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}var i=document.querySelector("table"),t=document.querySelectorAll("td"),l=document.querySelector(".start"),c=document.querySelector(".message-start"),a=document.querySelector(".message-lose"),o=document.querySelector(".message-win"),s=document.querySelector(".game-score"),d=i.rows,f=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function h(e){for(var n=0;n<e.length;n++)for(var r=1;r<e[n].length;r++)if(e[n][r]===e[n][r-1])return!1}function v(e){for(var n=0;n<d.length;n++)for(var r=[e[0][n],e[1][n],e[2][n],e[3][n]],i=1;i<r.length;i++)if(r[i]===r[i-1])return!1}function T(){var e=Math.floor(Math.random()*t.length+1);return""!==t[e-1].innerText?T():e}function x(e){var n=Math.floor(Math.random()*t.length+1);return e===n?x(e):n}function m(e){e>0&&e<=4?f[0][e-1]=Number(t[e-1].innerHTML):e>4&&e<=8?f[1][t[e-1].cellIndex]=Number(t[e-1].innerHTML):e>8&&e<=12?f[2][t[e-1].cellIndex]=Number(t[e-1].innerHTML):e>12&&(f[3][t[e-1].cellIndex]=Number(t[e-1].innerHTML))}function g(e){e>=15?(t[e-1].classList.add("field-cell--4"),t[e-1].innerText="4"):(t[e-1].classList.add("field-cell--2"),t[e-1].innerText="2")}document.addEventListener("keydown",function(n){if("ArrowLeft"===n.key){for(var r=JSON.parse(JSON.stringify(f)),i=0;i<f.length;i++)f[i].sort(function(e,n){if(!(e>0&&n>0))return n-e});if(JSON.stringify(r)!==JSON.stringify(f)){for(var l=1,c=0;c<f.length;c++)for(var x=0;x<f[c].length;x++){if(f[c][x]>0&&f[c][x-1]>0&&f[c][x-1]===f[c][x]&&void 0!==f[c][x-1]){var u=f[c][x-1],L=f[c][x];f[c][x-1]=2*f[c][x],f[c].splice(x,1);var y=s.innerText;s.innerText=2*u+Number(y),f[c].push(0),d[c].children[x].classList.remove("field-cell--".concat(L)),d[c].children[x-1].classList.remove("field-cell--".concat(u))}f[c][x]>0&&l++}for(var S=0;S<f.length;S++)for(var N=0;N<f[S].length;N++)0===f[S][N]?""!==d[S].children[N].innerText?(d[S].children[N].classList.remove("field-cell--".concat(d[S].children[N].innerText)),d[S].children[N].innerText=""):d[S].children[N].innerText="":(d[S].children[N].classList.remove("field-cell--".concat(d[S].children[N].innerText)),d[S].children[N].innerText=f[S][N],d[S].children[N].classList.add("field-cell--".concat(d[S].children[N].innerText)));var M,O=e(t);try{for(O.s();!(M=O.n()).done;){"2048"===M.value.innerText&&o.classList.remove("hidden")}}catch(Cn){O.e(Cn)}finally{O.f()}var p=Math.floor(Math.random()*t.length+1);if(void 0!==t[p-1].innerText&&""!==t[p-1].innerText&&(p=T()),g(p),m(p),16===l){var b=h(f),J=v(f);void 0===b&&void 0===J&&a.classList.remove("hidden")}}else if(JSON.stringify(r)===JSON.stringify(f)){for(var w=0,A=0;A<f.length;A++)for(var q=0;q<f[A].length;q++)f[A][q]>0&&f[A][q-1]>0&&f[A][q-1]===f[A][q]&&void 0!==f[A][q-1]&&w++;if(w>0){for(var k=1,I=0;I<f.length;I++)for(var H=0;H<f[I].length;H++){if(f[I][H]>0&&f[I][H-1]>0&&f[I][H-1]===f[I][H]&&void 0!==f[I][H-1]){var j=f[I][H-1],E=f[I][H];f[I][H-1]=2*f[I][H],f[I].splice(H,1);var R=s.innerText;s.innerText=2*j+Number(R),f[I].push(0),d[I].children[H].classList.remove("field-cell--".concat(E)),d[I].children[H-1].classList.remove("field-cell--".concat(j))}f[I][H]>0&&k++}for(var U=0;U<f.length;U++)for(var C=0;C<f[U].length;C++)0===f[U][C]?""!==d[U].children[C].innerText?(d[U].children[C].classList.remove("field-cell--".concat(d[U].children[C].innerText)),d[U].children[C].innerText=""):d[U].children[C].innerText="":(d[U].children[C].classList.remove("field-cell--".concat(d[U].children[C].innerText)),d[U].children[C].innerText=f[U][C],d[U].children[C].classList.add("field-cell--".concat(d[U].children[C].innerText)));var D,$=e(t);try{for($.s();!(D=$.n()).done;){"2048"===D.value.innerText&&o.classList.remove("hidden")}}catch(Cn){$.e(Cn)}finally{$.f()}var z=Math.floor(Math.random()*t.length+1);if(void 0!==t[z-1].innerText&&""!==t[z-1].innerText&&(z=T()),g(z),m(z),16===k){var B=h(f),F=v(f);void 0===B&&void 0===F&&a.classList.remove("hidden")}}}}if("ArrowRight"===n.key){for(var G=JSON.parse(JSON.stringify(f)),K=0;K<f.length;K++)f[K].sort(function(e,n){if(!(e>0&&n>0))return e-n});if(JSON.stringify(G)!==JSON.stringify(f)){for(var P=1,Q=0;Q<f.length;Q++)for(var V=f[Q].length-1;V>=0;V--){if(f[Q][V]>0&&f[Q][V+1]>0&&f[Q][V]===f[Q][V+1]&&void 0!==f[Q][V+1]){var W=f[Q][V+1],X=f[Q][V];f[Q][V+1]=2*f[Q][V],f[Q].splice(V,1);var Y=s.innerText;s.innerText=2*W+Number(Y),f[Q].unshift(0),d[Q].children[V].classList.remove("field-cell--".concat(X)),d[Q].children[V+1].classList.remove("field-cell--".concat(W))}f[Q][V]>0&&P++}for(var Z=0;Z<f.length;Z++)for(var _=0;_<f[Z].length;_++)0===f[Z][_]?""!==d[Z].children[_].innerText?(d[Z].children[_].classList.remove("field-cell--".concat(d[Z].children[_].innerText)),d[Z].children[_].innerText=""):d[Z].children[_].innerText="":(d[Z].children[_].classList.remove("field-cell--".concat(d[Z].children[_].innerText)),d[Z].children[_].innerText=f[Z][_],d[Z].children[_].classList.add("field-cell--".concat(d[Z].children[_].innerText)));var ee,ne=e(t);try{for(ne.s();!(ee=ne.n()).done;){"2048"===ee.value.innerText&&o.classList.remove("hidden")}}catch(Cn){ne.e(Cn)}finally{ne.f()}var re=Math.floor(Math.random()*t.length+1);if(void 0!==t[re-1].innerText&&""!==t[re-1].innerText&&(re=T()),g(re),m(re),16===P){var ie=h(f),te=v(f);void 0===ie&&void 0===te&&a.classList.remove("hidden")}}else if(JSON.stringify(G)===JSON.stringify(f)){for(var le=0,ce=0;ce<f.length;ce++)for(var ae=0;ae<f[ce].length;ae++)f[ce][ae]>0&&f[ce][ae+1]>0&&f[ce][ae+1]===f[ce][ae]&&void 0!==f[ce][ae+1]&&le++;if(le>0){for(var oe=1,se=0;se<f.length;se++)for(var de=f[se].length-1;de>=0;de--){if(f[se][de]>0&&f[se][de+1]>0&&f[se][de]===f[se][de+1]&&void 0!==f[se][de+1]){var fe=f[se][de+1],he=f[se][de];f[se][de+1]=2*f[se][de],f[se].splice(de,1);var ve=s.innerText;s.innerText=2*fe+Number(ve),f[se].unshift(0),d[se].children[de].classList.remove("field-cell--".concat(he)),d[se].children[de+1].classList.remove("field-cell--".concat(fe))}f[se][de]>0&&oe++}for(var Te=0;Te<f.length;Te++)for(var xe=0;xe<f[Te].length;xe++)0===f[Te][xe]?""!==d[Te].children[xe].innerText?(d[Te].children[xe].classList.remove("field-cell--".concat(d[Te].children[xe].innerText)),d[Te].children[xe].innerText=""):d[Te].children[xe].innerText="":(d[Te].children[xe].classList.remove("field-cell--".concat(d[Te].children[xe].innerText)),d[Te].children[xe].innerText=f[Te][xe],d[Te].children[xe].classList.add("field-cell--".concat(d[Te].children[xe].innerText)));var me,ge=e(t);try{for(ge.s();!(me=ge.n()).done;){"2048"===me.value.innerText&&o.classList.remove("hidden")}}catch(Cn){ge.e(Cn)}finally{ge.f()}var ue=Math.floor(Math.random()*t.length+1);if(void 0!==t[ue-1].innerText&&""!==t[ue-1].innerText&&(ue=T()),g(ue),m(ue),16===oe){var Le=h(f),ye=v(f);void 0===Le&&void 0===ye&&a.classList.remove("hidden")}}}}if("ArrowUp"===n.key){for(var Se=JSON.parse(JSON.stringify(f)),Ne=0;Ne<d.length;Ne++){var Me=[f[0][Ne],f[1][Ne],f[2][Ne],f[3][Ne]];Me.sort(function(e,n){if(!(e>0&&n>0))return n-e}),f[0][Ne]=Me[0],f[1][Ne]=Me[1],f[2][Ne]=Me[2],f[3][Ne]=Me[3]}if(JSON.stringify(Se)!==JSON.stringify(f)){for(var Oe=1,pe=0;pe<d.length;pe++)for(var be=[f[0][pe],f[1][pe],f[2][pe],f[3][pe]],Je=0;Je<be.length;Je++){if(be[Je]>0&&be[Je-1]>0&&be[Je-1]===be[Je]&&void 0!==be[Je-1]){var we=be[Je-1],Ae=be[Je];be[Je-1]=2*be[Je],be.splice(Je,1);var qe=s.innerText;s.innerText=2*we+Number(qe),be.push(0),d[Je-1].children[pe].classList.remove("field-cell--".concat(we)),d[Je].children[pe].classList.remove("field-cell--".concat(Ae))}f[0][pe]=be[0],f[1][pe]=be[1],f[2][pe]=be[2],f[3][pe]=be[3]}for(var ke=0;ke<f.length;ke++)for(var Ie=0;Ie<f[ke].length;Ie++)0===f[ke][Ie]?""!==d[ke].children[Ie].innerText?(d[ke].children[Ie].classList.remove("field-cell--".concat(d[ke].children[Ie].innerText)),d[ke].children[Ie].innerText=""):d[ke].children[Ie].innerText="":(Oe++,d[ke].children[Ie].classList.remove("field-cell--".concat(d[ke].children[Ie].innerText)),d[ke].children[Ie].innerText=f[ke][Ie],d[ke].children[Ie].classList.add("field-cell--".concat(d[ke].children[Ie].innerText)));var He,je=e(t);try{for(je.s();!(He=je.n()).done;){"2048"===He.value.innerText&&o.classList.remove("hidden")}}catch(Cn){je.e(Cn)}finally{je.f()}var Ee=Math.floor(Math.random()*t.length+1);if(void 0!==t[Ee-1].innerText&&""!==t[Ee-1].innerText&&(Ee=T()),g(Ee),m(Ee),16===Oe){var Re=h(f),Ue=v(f);void 0===Re&&void 0===Ue&&a.classList.remove("hidden")}}else if(JSON.stringify(Se)===JSON.stringify(f)){for(var Ce=0,De=0;De<d.length;De++)for(var $e=[f[0][De],f[1][De],f[2][De],f[3][De]],ze=0;ze<$e.length;ze++)$e[ze]>0&&$e[ze-1]>0&&$e[ze-1]===$e[ze]&&void 0!==$e[ze-1]&&Ce++;if(Ce>0){for(var Be=1,Fe=0;Fe<d.length;Fe++)for(var Ge=[f[0][Fe],f[1][Fe],f[2][Fe],f[3][Fe]],Ke=0;Ke<Ge.length;Ke++){if(Ge[Ke]>0&&Ge[Ke-1]>0&&Ge[Ke-1]===Ge[Ke]&&void 0!==Ge[Ke-1]){var Pe=Ge[Ke-1],Qe=Ge[Ke];Ge[Ke-1]=2*Ge[Ke],Ge.splice(Ke,1);var Ve=s.innerText;s.innerText=2*Pe+Number(Ve),Ge.push(0),d[Ke-1].children[Fe].classList.remove("field-cell--".concat(Pe)),d[Ke].children[Fe].classList.remove("field-cell--".concat(Qe))}f[0][Fe]=Ge[0],f[1][Fe]=Ge[1],f[2][Fe]=Ge[2],f[3][Fe]=Ge[3]}for(var We=0;We<f.length;We++)for(var Xe=0;Xe<f[We].length;Xe++)0===f[We][Xe]?""!==d[We].children[Xe].innerText?(d[We].children[Xe].classList.remove("field-cell--".concat(d[We].children[Xe].innerText)),d[We].children[Xe].innerText=""):d[We].children[Xe].innerText="":(Be++,d[We].children[Xe].classList.remove("field-cell--".concat(d[We].children[Xe].innerText)),d[We].children[Xe].innerText=f[We][Xe],d[We].children[Xe].classList.add("field-cell--".concat(d[We].children[Xe].innerText)));var Ye,Ze=e(t);try{for(Ze.s();!(Ye=Ze.n()).done;){"2048"===Ye.value.innerText&&o.classList.remove("hidden")}}catch(Cn){Ze.e(Cn)}finally{Ze.f()}var _e=Math.floor(Math.random()*t.length+1);if(void 0!==t[_e-1].innerText&&""!==t[_e-1].innerText&&(_e=T()),g(_e),m(_e),16===Be){var en=h(f),nn=v(f);void 0===en&&void 0===nn&&a.classList.remove("hidden")}}}}if("ArrowDown"===n.key){for(var rn=JSON.parse(JSON.stringify(f)),tn=0;tn<d.length;tn++){var ln=[f[0][tn],f[1][tn],f[2][tn],f[3][tn]];ln.sort(function(e,n){if(!(e>0&&n>0))return e-n}),f[0][tn]=ln[0],f[1][tn]=ln[1],f[2][tn]=ln[2],f[3][tn]=ln[3]}if(JSON.stringify(rn)!==JSON.stringify(f)){for(var cn=1,an=0;an<d.length;an++)for(var on=[f[0][an],f[1][an],f[2][an],f[3][an]],sn=on.length-1;sn>=0;sn--){if(on[sn]>0&&on[sn+1]>0&&on[sn]===on[sn+1]&&void 0!==on[sn+1]){var dn=on[sn+1],fn=on[sn];on[sn+1]=2*on[sn],on.splice(sn,1);var hn=s.innerText;s.innerText=2*dn+Number(hn),on.unshift(0),d[sn+1].children[an].classList.remove("field-cell--".concat(dn)),d[sn].children[an].classList.remove("field-cell--".concat(fn))}f[0][an]=on[0],f[1][an]=on[1],f[2][an]=on[2],f[3][an]=on[3]}for(var vn=0;vn<f.length;vn++)for(var Tn=0;Tn<f[vn].length;Tn++)0===f[vn][Tn]?""!==d[vn].children[Tn].innerText?(d[vn].children[Tn].classList.remove("field-cell--".concat(d[vn].children[Tn].innerText)),d[vn].children[Tn].innerText=""):d[vn].children[Tn].innerText="":(cn++,d[vn].children[Tn].classList.remove("field-cell--".concat(d[vn].children[Tn].innerText)),d[vn].children[Tn].innerText=f[vn][Tn],d[vn].children[Tn].classList.add("field-cell--".concat(d[vn].children[Tn].innerText)));var xn,mn=e(t);try{for(mn.s();!(xn=mn.n()).done;){"2048"===xn.value.innerText&&o.classList.remove("hidden")}}catch(Cn){mn.e(Cn)}finally{mn.f()}var gn=Math.floor(Math.random()*t.length+1);if(void 0!==t[gn-1].innerText&&""!==t[gn-1].innerText&&(gn=T()),g(gn),m(gn),16===cn){var un=h(f),Ln=v(f);void 0===un&&void 0===Ln&&a.classList.remove("hidden")}}else if(JSON.stringify(rn)===JSON.stringify(f)){for(var yn=0,Sn=0;Sn<d.length;Sn++)for(var Nn=[f[0][Sn],f[1][Sn],f[2][Sn],f[3][Sn]],Mn=Nn.length-1;Mn>=0;Mn--)Nn[Mn]>0&&Nn[Mn+1]>0&&Nn[Mn]===Nn[Mn+1]&&void 0!==Nn[Mn+1]&&yn++;if(yn>0){for(var On=1,pn=0;pn<d.length;pn++)for(var bn=[f[0][pn],f[1][pn],f[2][pn],f[3][pn]],Jn=bn.length-1;Jn>=0;Jn--){if(bn[Jn]>0&&bn[Jn+1]>0&&bn[Jn]===bn[Jn+1]&&void 0!==bn[Jn+1]){var wn=bn[Jn+1],An=bn[Jn];bn[Jn+1]=2*bn[Jn],bn.splice(Jn,1);var qn=s.innerText;s.innerText=2*wn+Number(qn),bn.unshift(0),d[Jn+1].children[pn].classList.remove("field-cell--".concat(wn)),d[Jn].children[pn].classList.remove("field-cell--".concat(An))}f[0][pn]=bn[0],f[1][pn]=bn[1],f[2][pn]=bn[2],f[3][pn]=bn[3]}for(var kn=0;kn<f.length;kn++)for(var In=0;In<f[kn].length;In++)0===f[kn][In]?""!==d[kn].children[In].innerText?(d[kn].children[In].classList.remove("field-cell--".concat(d[kn].children[In].innerText)),d[kn].children[In].innerText=""):d[kn].children[In].innerText="":(On++,d[kn].children[In].classList.remove("field-cell--".concat(d[kn].children[In].innerText)),d[kn].children[In].innerText=f[kn][In],d[kn].children[In].classList.add("field-cell--".concat(d[kn].children[In].innerText)));var Hn,jn=e(t);try{for(jn.s();!(Hn=jn.n()).done;){"2048"===Hn.value.innerText&&o.classList.remove("hidden")}}catch(Cn){jn.e(Cn)}finally{jn.f()}var En=Math.floor(Math.random()*t.length+1);if(void 0!==t[En-1].innerText&&""!==t[En-1].innerText&&(En=T()),g(En),m(En),16===On){var Rn=h(f),Un=v(f);void 0===Rn&&void 0===Un&&a.classList.remove("hidden")}}}}}),l.addEventListener("click",function(n){var r=n.target;if(r.classList.contains("start")){var i=Math.floor(Math.random()*t.length+1),o=x(i);g(i),g(o),l.classList.add("restart"),l.innerText="Restart",l.classList.remove("start"),c.setAttribute("hidden",""),m(i),m(o)}else if(r.classList.contains("restart")){s.innerText=0,a.classList.add("hidden");for(var d=0;d<f.length;d++)for(var h=0;h<f[d].length;h++)f[d][h]=0;var v,T=e(t);try{for(T.s();!(v=T.n()).done;){var u=v.value;u.classList.remove("field-cell--".concat(u.innerText)),u.innerText=""}}catch(S){T.e(S)}finally{T.f()}var L=Math.floor(Math.random()*t.length+1),y=x(L);g(L),g(y),m(L),m(y)}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.3999a72d.js.map